{"ast":null,"code":"const Pusher = require('pusher'); // Ensure that your pusher credentials are properly set in the .env file\n// Using the specified variables\n\n\nconst pusher = new Pusher({\n  appId: process.env.PUSHER_APP_ID,\n  key: process.env.PUSHER_APP_KEY,\n  secret: process.env.PUSHER_APP_SECRET,\n  cluster: process.env.PUSHER_APP_CLUSTER,\n  encrypted: true\n});\nexport default ((req, res) => {\n  const stats = {\n    temperature: req.body.temp,\n    pres: req.body.pressure,\n    humid: req.body.humidity,\n    light: req.body.light,\n    noise: req.body.noise,\n    gas: req.body.gas\n  };\n  console.log(req.body); // The request body\n\n  console.log(req.query); // The url query string\n\n  console.log(req.cookies); // The passed cookies\n  // Filter inputs and add t stats for dynamic update\n\n  pusher.trigger('bar', 'bar-stats', {\n    stats\n  });\n  return res.json({\n    success: true,\n    message: 'Thank you for voting'\n  });\n});","map":{"version":3,"sources":["C:/Users/n9607234/Desktop/2020sem2/EGH455/Web Interface/pages/api/update.js"],"names":["Pusher","require","pusher","appId","process","env","PUSHER_APP_ID","key","PUSHER_APP_KEY","secret","PUSHER_APP_SECRET","cluster","PUSHER_APP_CLUSTER","encrypted","req","res","stats","temperature","body","temp","pres","pressure","humid","humidity","light","noise","gas","console","log","query","cookies","trigger","json","success","message"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB,C,CAEA;AACA;;;AACA,MAAMC,MAAM,GAAG,IAAIF,MAAJ,CAAW;AACtBG,EAAAA,KAAK,EAAEC,OAAO,CAACC,GAAR,CAAYC,aADG;AAEtBC,EAAAA,GAAG,EAAEH,OAAO,CAACC,GAAR,CAAYG,cAFK;AAGtBC,EAAAA,MAAM,EAAEL,OAAO,CAACC,GAAR,CAAYK,iBAHE;AAItBC,EAAAA,OAAO,EAAEP,OAAO,CAACC,GAAR,CAAYO,kBAJC;AAKtBC,EAAAA,SAAS,EAAE;AALW,CAAX,CAAf;AASA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AACzB,QAAMC,KAAK,GAAG;AACVC,IAAAA,WAAW,EAAEH,GAAG,CAACI,IAAJ,CAASC,IADZ;AAEVC,IAAAA,IAAI,EAAEN,GAAG,CAACI,IAAJ,CAASG,QAFL;AAGVC,IAAAA,KAAK,EAAER,GAAG,CAACI,IAAJ,CAASK,QAHN;AAIVC,IAAAA,KAAK,EAAEV,GAAG,CAACI,IAAJ,CAASM,KAJN;AAKVC,IAAAA,KAAK,EAAEX,GAAG,CAACI,IAAJ,CAASO,KALN;AAMVC,IAAAA,GAAG,EAAEZ,GAAG,CAACI,IAAJ,CAASQ;AANJ,GAAd;AASAC,EAAAA,OAAO,CAACC,GAAR,CAAYd,GAAG,CAACI,IAAhB,EAVyB,CAUH;;AACtBS,EAAAA,OAAO,CAACC,GAAR,CAAYd,GAAG,CAACe,KAAhB,EAXyB,CAWF;;AACvBF,EAAAA,OAAO,CAACC,GAAR,CAAYd,GAAG,CAACgB,OAAhB,EAZyB,CAYA;AAEzB;;AACA5B,EAAAA,MAAM,CAAC6B,OAAP,CAAe,KAAf,EAAsB,WAAtB,EAAmC;AAC/Bf,IAAAA;AAD+B,GAAnC;AAIA,SAAOD,GAAG,CAACiB,IAAJ,CAAS;AAAEC,IAAAA,OAAO,EAAE,IAAX;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAAT,CAAP;AAEH,CArBD","sourcesContent":["const Pusher = require('pusher');\r\n\r\n// Ensure that your pusher credentials are properly set in the .env file\r\n// Using the specified variables\r\nconst pusher = new Pusher({\r\n    appId: process.env.PUSHER_APP_ID,\r\n    key: process.env.PUSHER_APP_KEY,\r\n    secret: process.env.PUSHER_APP_SECRET,\r\n    cluster: process.env.PUSHER_APP_CLUSTER,\r\n    encrypted: true\r\n});\r\n\r\n\r\nexport default (req, res) => {\r\n    const stats = {\r\n        temperature: req.body.temp,\r\n        pres: req.body.pressure,\r\n        humid: req.body.humidity,\r\n        light: req.body.light,\r\n        noise: req.body.noise,\r\n        gas: req.body.gas\r\n    }\r\n\r\n    console.log(req.body) // The request body\r\n    console.log(req.query) // The url query string\r\n    console.log(req.cookies) // The passed cookies\r\n\r\n    // Filter inputs and add t stats for dynamic update\r\n    pusher.trigger('bar', 'bar-stats', {\r\n        stats\r\n    });\r\n\r\n    return res.json({ success: true, message: 'Thank you for voting' });\r\n\r\n}"]},"metadata":{},"sourceType":"module"}