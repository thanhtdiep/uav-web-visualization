{"ast":null,"code":"const Pusher = require('pusher'); // Ensure that your pusher credentials are properly set in the .env file\n// Using the specified variables\n\n\nconst pusher = new Pusher({\n  appId: process.env.PUSHER_APP_ID,\n  key: process.env.PUSHER_APP_KEY,\n  secret: process.env.PUSHER_APP_SECRET,\n  cluster: process.env.PUSHER_APP_CLUSTER,\n  encrypted: true\n});\nexport default function handler(req, res) {\n  const {\n    method\n  } = req;\n\n  if (method === 'POST') {\n    console.log(req.body); // The request body\n\n    console.log(req.query); // The url query string\n\n    console.log(req.cookies); // The passed cookies\n\n    pusher.trigger('stats', 'os-vote', {\n      temperature: req.body.temp\n    });\n    return res.json({\n      success: true,\n      message: 'Thank you for voting'\n    });\n  }\n}","map":{"version":3,"sources":["C:/Users/n9607234/Desktop/2020sem2/EGH455/Web Interface/pages/api/update.js"],"names":["Pusher","require","pusher","appId","process","env","PUSHER_APP_ID","key","PUSHER_APP_KEY","secret","PUSHER_APP_SECRET","cluster","PUSHER_APP_CLUSTER","encrypted","handler","req","res","method","console","log","body","query","cookies","trigger","temperature","temp","json","success","message"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB,C,CAEA;AACA;;;AACA,MAAMC,MAAM,GAAG,IAAIF,MAAJ,CAAW;AACtBG,EAAAA,KAAK,EAAEC,OAAO,CAACC,GAAR,CAAYC,aADG;AAEtBC,EAAAA,GAAG,EAAEH,OAAO,CAACC,GAAR,CAAYG,cAFK;AAGtBC,EAAAA,MAAM,EAAEL,OAAO,CAACC,GAAR,CAAYK,iBAHE;AAItBC,EAAAA,OAAO,EAAEP,OAAO,CAACC,GAAR,CAAYO,kBAJC;AAKtBC,EAAAA,SAAS,EAAE;AALW,CAAX,CAAf;AASA,eAAe,SAASC,OAAT,CAAiBC,GAAjB,EAAsBC,GAAtB,EAA2B;AACtC,QAAM;AAACC,IAAAA;AAAD,MAAWF,GAAjB;;AAEA,MAAIE,MAAM,KAAK,MAAf,EAAuB;AACnBC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACK,IAAhB,EADmB,CACG;;AACtBF,IAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACM,KAAhB,EAFmB,CAEI;;AACvBH,IAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACO,OAAhB,EAHmB,CAGM;;AAEzBpB,IAAAA,MAAM,CAACqB,OAAP,CAAe,OAAf,EAAwB,SAAxB,EAAmC;AAC/BC,MAAAA,WAAW,EAAET,GAAG,CAACK,IAAJ,CAASK;AADS,KAAnC;AAIA,WAAOT,GAAG,CAACU,IAAJ,CAAS;AAAEC,MAAAA,OAAO,EAAE,IAAX;AAAiBC,MAAAA,OAAO,EAAE;AAA1B,KAAT,CAAP;AACH;AACJ","sourcesContent":["const Pusher = require('pusher');\r\n\r\n// Ensure that your pusher credentials are properly set in the .env file\r\n// Using the specified variables\r\nconst pusher = new Pusher({\r\n    appId: process.env.PUSHER_APP_ID,\r\n    key: process.env.PUSHER_APP_KEY,\r\n    secret: process.env.PUSHER_APP_SECRET,\r\n    cluster: process.env.PUSHER_APP_CLUSTER,\r\n    encrypted: true\r\n});\r\n\r\n\r\nexport default function handler(req, res) {\r\n    const {method} = req\r\n\r\n    if (method === 'POST') {\r\n        console.log(req.body) // The request body\r\n        console.log(req.query) // The url query string\r\n        console.log(req.cookies) // The passed cookies\r\n    \r\n        pusher.trigger('stats', 'os-vote', {\r\n            temperature: req.body.temp\r\n        });\r\n    \r\n        return res.json({ success: true, message: 'Thank you for voting' });\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}