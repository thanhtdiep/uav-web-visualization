{"ast":null,"code":"// const Pusher = require('pusher');\n// // Ensure that your pusher credentials are properly set in the .env file\n// // Using the specified variables\n// const pusher = new Pusher({\n//     appId: process.env.PUSHER_APP_ID,\n//     key: process.env.PUSHER_APP_KEY,\n//     secret: process.env.PUSHER_APP_SECRET,\n//     cluster: process.env.PUSHER_APP_CLUSTER,\n//     encrypted: true\n// });\nexport default ((req, res) => {\n  const {\n    method\n  } = req;\n  console.log('route reached ' + method);\n  console.log(req.body); // The request body\n\n  console.log(req.query); // The url query string\n\n  console.log(req.cookies); // The passed cookies\n\n  pusher.trigger('stats', 'os-vote', {\n    temperature: req.body.temp\n  });\n  return res.json({\n    success: true,\n    message: 'Thank you for voting'\n  });\n});","map":{"version":3,"sources":["C:/Users/n9607234/Desktop/2020sem2/EGH455/Web Interface/pages/api/update.js"],"names":["req","res","method","console","log","body","query","cookies","pusher","trigger","temperature","temp","json","success","message"],"mappings":"AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,gBAAe,CAACA,GAAD,EAAMC,GAAN,KAAc;AACzB,QAAM;AAAEC,IAAAA;AAAF,MAAaF,GAAnB;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmBF,MAA/B;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACK,IAAhB,EAHyB,CAGH;;AACtBF,EAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACM,KAAhB,EAJyB,CAIF;;AACvBH,EAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACO,OAAhB,EALyB,CAKA;;AAEzBC,EAAAA,MAAM,CAACC,OAAP,CAAe,OAAf,EAAwB,SAAxB,EAAmC;AAC/BC,IAAAA,WAAW,EAAEV,GAAG,CAACK,IAAJ,CAASM;AADS,GAAnC;AAIA,SAAOV,GAAG,CAACW,IAAJ,CAAS;AAAEC,IAAAA,OAAO,EAAE,IAAX;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAAT,CAAP;AAEH,CAbD","sourcesContent":["// const Pusher = require('pusher');\r\n\r\n// // Ensure that your pusher credentials are properly set in the .env file\r\n// // Using the specified variables\r\n// const pusher = new Pusher({\r\n//     appId: process.env.PUSHER_APP_ID,\r\n//     key: process.env.PUSHER_APP_KEY,\r\n//     secret: process.env.PUSHER_APP_SECRET,\r\n//     cluster: process.env.PUSHER_APP_CLUSTER,\r\n//     encrypted: true\r\n// });\r\n\r\n\r\nexport default (req, res) => {\r\n    const { method } = req\r\n    console.log('route reached ' + method)\r\n    console.log(req.body) // The request body\r\n    console.log(req.query) // The url query string\r\n    console.log(req.cookies) // The passed cookies\r\n\r\n    pusher.trigger('stats', 'os-vote', {\r\n        temperature: req.body.temp\r\n    });\r\n\r\n    return res.json({ success: true, message: 'Thank you for voting' });\r\n\r\n}"]},"metadata":{},"sourceType":"module"}